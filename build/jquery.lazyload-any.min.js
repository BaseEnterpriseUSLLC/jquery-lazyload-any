(function(d,c,f,l){function g(){h=c.innerHeight||f.documentElement.clientHeight;k=c.innerWidth||f.documentElement.clientWidth}Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),d=this,c=function(){},e=function(){return d.apply(this instanceof c&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};c.prototype=this.prototype;
e.prototype=new c;return e});var e=function(a,b){b=b||{};b.threshold=b.threshold||0;b.trigger=b.trigger||"appear";this.trigger=b.trigger.split(" ");0>b.threshold&&(b.threshold=0);this.options=b;this.element=d(a);for(var c=0;c<this.trigger.length;++c)this.bind(this.trigger[c])};e.prototype.bind=function(a){"appear"==a?(this.testBinding||(this.testBinding=this.test.bind(this)),d(c).bind("resize",this.testBinding),d(c).bind("scroll",this.testBinding),this.test()):(this.showBinding||(this.showBinding=
this.show.bind(this)),this.element.bind(a,this.showBinding))};e.prototype.unbind=function(a){"appear"==a?(d(c).unbind("resize",this.testBinding),d(c).unbind("scroll",this.testBinding)):this.element.unbind(a,this.showBinding)};e.prototype.test=function(){this.satisfied()&&this.show()};e.prototype.satisfied=function(){var a=this.element[0].getBoundingClientRect(),b=y1=-this.options.threshold,c=h-y1,d=k-b;return(a.top>=y1&&a.top<=c||a.bottom>=y1&&a.bottom<=c)&&(a.left>=b&&a.left<=d||a.right>=b&&a.right<=
d)};e.prototype.show=function(){for(var a=0,b=this.options.trigger;a<b.length;++a)this.unbind(b[a]);a=this.element.contents().filter(function(){return 8===this.nodeType}).get(0);a=d(a&&a.data);this.element.replaceWith(a);d.isFunction(this.options.load)&&this.options.load.call(a,a)};d.fn.lazyload=function(a){var b={};d.extend(b,a);this.each(function(){new e(this,b)})};var h,k;g();d(f).ready(function(){d(c).bind("resize",g)})})(jQuery,window,document);
