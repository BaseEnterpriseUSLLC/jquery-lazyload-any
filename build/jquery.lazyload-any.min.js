(function(b,d,f,l){function g(){h=d.innerHeight||f.documentElement.clientHeight;k=d.innerWidth||f.documentElement.clientWidth}Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var c=Array.prototype.slice.call(arguments,1),b=this,d=function(){},e=function(){return b.apply(this instanceof d&&a?this:a,c.concat(Array.prototype.slice.call(arguments)))};d.prototype=this.prototype;
e.prototype=new d;return e});var e=function(a,c){c=c||{};c.threshold=c.threshold||0;0>c.threshold&&(c.threshold=0);this.options=c;this.element=b(a);this.handler=this.test.bind(this);b(d).bind("resize",this.handler);b(d).bind("scroll",this.handler)};e.prototype.test=function(){this.satisfied()&&this.show()};e.prototype.satisfied=function(){var a=this.element[0].getBoundingClientRect(),c=y1=-this.options.threshold,b=h-y1,d=k-c;return(a.top>=y1&&a.top<=b||a.bottom>=y1&&a.bottom<=b)&&(a.left>=c&&a.left<=
d||a.right>=c&&a.right<=d)};e.prototype.show=function(){var a=this.element.contents().filter(function(){return 8===this.nodeType}).get(0),a=b(a&&a.data);this.element.replaceWith(a);b(d).unbind("resize",this.handler);b(d).unbind("scroll",this.handler);b.isFunction(this.options.load)&&this.options.load.call(a,a)};b.fn.lazyload=function(a){var c={};b.extend(c,a);this.each(function(){(new e(this,c)).test()})};var h,k;g();b(f).ready(function(){b(d).bind("resize",g)})})(jQuery,window,document);
